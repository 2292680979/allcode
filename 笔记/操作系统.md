1. 操作系统重点  https://juejin.im/entry/592257b62f301e006b183b95#comment![img](https://user-gold-cdn.xitu.io/2017/5/22/9ec446cf01928b9a62f9d852690476bd?imageslim)

2. 操作系统的四个特性：并发：同一段时间内多个程序执行(注意区别并行和并发，前者是同一时刻的多个事件，后者是同一时间段内的多个事件)
   共享：系统中的资源可以被内存中多个并发执行的进线程共同使用
   虚拟：通过时分复用（如分时系统）以及空分复用（如虚拟内存）技术实现把一个物理实体虚拟为多个
   异步：系统中的进程是以走走停停的方式执行的，且以一种不可预知的速度推进    函数中同步异步：同步就是一直要执行到返回最终结果。异步就是直接返回，但是返回的不是最终结果，调用者不能通过这种调用得到结果，以后可以通过被调用者提供的某种方式(被调用者通知调用者、调用者反复查询、回调)，来取回最终结果。   进程异步：内存中的每个进程何时执行,何时暂停,以怎样的速度向前推进,每道程序总共需要多少时间才能完成等,都是不可预知的。由于资源等因素的限制，进程的执行通常都不是“一气呵成”，而是以“停停走走”的方式运行。
   
3. 操作系统的主要功能：处理机管理：处理机分配都是以进程为单位，所以处理机管理也被看做是进程管理。包括进程控制，进程同步，进程通信和进程调度
   存储器管理（或者内存管理）：内存分配，内存保护，地址映射，内存扩充
   设备管理：管理所有外围设备，包括完成用户的IO请求；为用户进程分配IO设备；提高IO设备利用率；提高IO速度；方便IO的使用
   文件管理：管理用户文件和系统文件，方便使用同时保证安全性。包括：磁盘存储空间管理，目录管理，文件读写管理以及文件共享和保护
   提供用户接口：程序接口（如API）和用户接口（如GUI）
   
4. 进程状态转换：运行，就绪，阻塞。![image-20200721095505742](C:\Users\谢杰辉\AppData\Roaming\Typora\typora-user-images\image-20200721095505742.png)

5. 进程与线程区别：1.调度方面：在引入线程的OS中，线程是独立的调度和分派单位，而进程作为资源的拥有单位(相当于把未引入线程的传统OS中的进程的两个属性分开了)。**由于线程不拥有资源，因此可以显著的提高并发度以及减少切换开销**。   2.并发性：引入了线程的OS中，进程间可以并发，而且一个进程内部的多个线程之间也是可以并发的，这就使OS具有更好的并发性，有效的提高了系统资源利用率和吞吐量。   3.拥有资源：无论OS是否支持线程，进程都是基本的资源拥有单位，线程只拥有很少的基本的资源，但是线程可以访问所隶属的进程的资源（进程的代码段，数据段和所拥有的系统资源如fd）   4.系统开销：创建或者撤销进程的时候，系统要为之创建或回收PCB，系统资源等，切换时也需要保存和恢复CPU环境。**而线程的切换只需要保存和恢复少量的寄存器，不涉及存储器管理方面的工作，所以开销较小**。此外，统一进程中的多个线程由于共享地址空间，所以通信同步等都比较方便。

6. 进程通信（高级方式）：   1.共享存储：在通信的进程之间存在一块可直接访问的共享空间，通过对这片共享空间进行写/读操作实现进程之间的信息交换。在对共享空间进行写/读操作时，需要使用同步互斥工具（如 P操作、V操作），对共享空间的写/读进行控制。共享存储又分为两种：低级方式的共享是**基于数据结构的共享**；高级方式则是**基于存储区的共享**。操作系统只负责为通信进程提供可共享使用的存储空间和同步互斥工具，而数据交换则由用户自己安排读/写指令完成。需要注意的是，用户进程空间一般都是独立的，要想让两个用户进程共享空间必须通过特殊的系统调用实现，而进程内的线程是自然共享进程空间的。  2.消息传递：进程通过系统提供的发送消息和接收消息两个原语进行数据交换。1) 直接通信方式：发送进程直接把消息发送给接收进程，并将**它挂在接收进程的消息缓冲队列上**，接收进程从消息缓冲队列中取得消息。2) 间接通信方式：发送进程把消息**发送到某个中间实体中**，接收进程从中间实体中取得消息。这种中间实体一般称为信箱，这种通信方式又称为信箱通信方式。该通信方式广泛应用于计算机网络中，相应的通信系统称为电子邮件系统。   3.管道通信：所谓“管道”，是指用于连接一个读进程和一个写进程以实现它们之间通信的一个共享文件，又名**pipe文件**。向管道（共享文件）提供输入的发送进程（即写进程），以字符流形式将大量的数据送入（写）管道；而接收管道输出的接收进程（即读进程），则从管道中接收（读）数据。为了协调双方的通信，管道机制必须提供以下三方面的协调能力：互斥、同步和确定对方的存在。

7. 进程通信方式：1.匿名管道（一个内核缓冲区，单工，只能用于父子或兄弟进程） 2.有名管道（只要由路径就可以访问，存放在内存中） 3.信号（一个进程发送给另一个进程的消息） 4.消息队列（放在内核中的消息链表） 5.共享内存 6.信号量（PV操作，获取到信号量才能执行） 7.套接字

8. 进程调度的策略：1.先来先服务（FCFS）  2.最短作业优先调度算法（SJF）：作业所需的运行时间越短，先运行，但是难以知道作业的运行时间 3.优先级调度算法（抢占/非抢占）：优先级高的先运行，但是会导致低优先级的会无限阻塞（解决方法：老化） 4.时间片轮转调度算法：每一个进程运行固定的时间片 5.多级队列调度算法：将就绪队列分成多个独立的队列，每个队列都有自己的调度算法，队列之间采用固定优先级抢占调度。其中，一个进程根据自身属性被永久地分配到一个队列中。 6. 多级反馈队列调度算法：与多级队列调度算法相比，其允许进程在队列之间移动：若进程使用过多CPU时间，那么它会被转移到更低的优先级队列；在较低优先级队列等待时间过长的进程会被转移到更高优先级队列，以防止饥饿发生

9. 虚拟地址：虚拟内存是计算机系统内存管理的一种技术。它使得应用程序**认为它拥有连续可用的内存**（一个连续完整的地址空间），而实际上，它通常是被**分隔成多个物理内存碎片**，还有部分暂时**存储在外部磁盘存储器上**，在需要时进行数据交换。与没有使用虚拟内存技术的系统相比，使用这种技术的系统使得大型程序的编写变得更容易，对真正的物理内存（例如RAM）的使用也更有效率。如果这个空间是虚拟的，我们就叫做虚拟地址空间；如果这个空间是真实存在的，我们就叫做物理地址空间。**虚拟地址空间是可以任意的大的，因为是虚拟的**。而物理地址空间是真实存在的，所以是有限的。

10. （https://www.zhihu.com/question/50796850）没有分段与分页时出现的问题：1.地址空间不隔离（程序A可能因为地址打错了而访问程序B的地址） 2.程序运行时地址不确定（第一次使用时地址可能为0x00000010，第二次使用时地址变了）  3.内存使用效率低（进程A需要100M内存，而内存只剩余99M，导致进程A不能运行）  分段（解决问题1，2）：把虚拟地址空间映射到了连续的物理地址空间，并且你写的程序操作的是虚拟地址  分页（解决问题1，2，3）：分页这个技术仍然是一种虚拟地址空间到物理地址空间映射的机制。但是，粒度更加的小了。单位不是整个程序，而是某个“页”，一段虚拟地址空间组成的某一页映射到一段物理地址空间组成的某一页。

11. 页面调度算法：1.最佳淘汰算法（OPT）：该算法每次都淘汰以后永不使用的，或者过最长的时间后才会被访问的页面。显然，采用这种算法会保证最低的缺页率，但它是无法实现的，因为它必须知道页面“将来”的访问情况。不过，该算法仍有一定意义，可作为衡量其他算法优劣的一个标准。  2.先进先出淘汰算法（FIFO）：总是淘汰最先进入内存的页面。它实现简单，只需把进程中已调入内存的页面，按先后次序链成一个队列，并设置一个所谓的替换指针，使它总是指向内存中最老的页面。  3.最近最久未使用算法（LRU）：根据页面调入内存后的使用情况，选择内存中最久未使用的页面被置换。

12. 寻址空间：CPU的数据总线位宽（即我们常说的32/64位CPU）：CPU一次能处理的二进制位数，如32位CPU一次能处理4字节的指令。CPU的地址总线位宽：CPU的寻址能力，CPU能使用的最大内存空间就由地址总线位宽决定。总而言之，地址总线是用来定位的，数据总线是用来传输的。而操作系统的位数，操作的是逻辑地址，如32位操作系统，最大只能操作4GB的空间，与CPU的位数无关。

    
